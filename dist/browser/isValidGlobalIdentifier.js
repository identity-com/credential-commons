"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_=require("lodash"),_require=require("./schemas/jsonSchema"),schemaLoader=_require.schemaLoader,validUCAIdentifiers=schemaLoader.validIdentifiers,validClaimIdentifiers=schemaLoader.validIdentifiers,validVCIdentifiers=schemaLoader.validCredentialIdentifiers,validPrefixes=["claim","credential"];function isValidGlobalIdentifier(){return _isValidGlobalIdentifier.apply(this,arguments)}function _isValidGlobalIdentifier(){return _isValidGlobalIdentifier=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function b(a){var c;return _regenerator.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,schemaLoader.loadSchemaFromTitle(a);case 2:if(c=_.split(a,"-"),3===c.length){b.next=5;break}throw new Error("Malformed Global Identifier");case 5:if(_.includes(validPrefixes,c[0])){b.next=7;break}throw new Error("Invalid Global Identifier Prefix");case 7:b.t0=c[0],b.next="claim"===b.t0?10:"credential"===b.t0?13:16;break;case 10:if(_.includes(validUCAIdentifiers,c[1])||_.includes(validClaimIdentifiers,a)){b.next=12;break}throw new Error("".concat(a," is not valid"));case 12:return b.abrupt("return",!0);case 13:if(_.includes(validVCIdentifiers,c[1])||_.includes(validVCIdentifiers,a)){b.next=15;break}throw new Error("".concat(a," is not valid"));case 15:return b.abrupt("return",!0);case 16:return b.abrupt("return",!1);case 17:case"end":return b.stop();}},b)})),_isValidGlobalIdentifier.apply(this,arguments)}module.exports=isValidGlobalIdentifier;